#!/bin/bash
# Manual
# download  'https://github.com/git-lfs/git-lfs/releases/download/v2.3.4/git-lfs-linux-amd64-2.3.4.tar.gz' 
# extract and put at ~/bin/git-lfs then mke sure that is on path
# as root install and run mongodb

pip3 install --user grpcio-tools
go get github.com/BurntSushi/toml gopkg.in/mgo.v2 github.com/gorilla/mux
go get google.golang.org/grpc
go get -u github.com/golang/protobuf/{proto,protoc-gen-go}
go get -u github.com/grpc-ecosystem/grpc-gateway/protoc-gen-grpc-gateway
mongo edraj --eval 'db.content.drop();'
mongorestore --gzip --dir ../sample_data/dump/
mongo edraj --eval 'db.content.count();'
mongo edraj --eval 'db.content.getIndices();'
#mongo edraj --eval 'db.content.createIndex( { displayname: "text", body: "text" }, {"default_language":"none"} );' #  Arabic sadly requires 3rd party license
